import{C as $,u as h}from"./CreateCardForm-C09QS4BI.js";import{d as u,c as r,a as e,b,o as i,_ as m,t as _,e as g,r as v,f as k,g as C,F as D,h as E,u as f}from"./index-XMPtKA6H.js";const w={class:"dialog"},y={class:"dialog__header"},B=u({__name:"DialogEditCard",props:{id:{}},setup(n){const a=n;return(d,t)=>(i(),r("div",w,[e("div",null,[e("div",y,[e("i",{class:"material-icons",onClick:t[0]||(t[0]=s=>d.$emit("close"))},"close")]),b($,{id:a.id,editable:"",onClose:t[1]||(t[1]=s=>d.$emit("close"))},null,8,["id"])])]))}}),I=m(B,[["__scopeId","data-v-6bb0087b"]]),S={class:"card-item"},V={class:"card-item__header"},L=["src"],x=u({__name:"CardItem",props:{card:{}},emits:["deleted","edit"],setup(n,{emit:a}){const d=h(),t=a,s=n,o=()=>{s.card.id!==void 0?d.deleteCard(s.card.id).then(()=>{t("deleted")}):console.error("Card id is undefined")},c=()=>{t("edit",s.card.id)};return(l,p)=>(i(),r("div",S,[e("div",V,[e("h3",null,_(s.card.title),1),e("div",{class:"card-item__header__icons"},[e("div",{class:"card-item__header__icons__icon"},[e("i",{class:"material-icons",onClick:c},"edit")]),e("div",{class:"card-item__header__icons__icon"},[e("i",{class:"material-icons",onClick:o},"delete")])])]),e("p",null,_(s.card.description),1),s.card.image?(i(),r("img",{key:0,src:s.card.image,alt:"cover",style:{"max-width":"100%",height:"auto"}},null,8,L)):g("",!0)]))}}),F=m(x,[["__scopeId","data-v-b5fcf304"]]),N={class:"cards-list"},A=u({__name:"CardsListView",setup(n){const a=h(),d=v(!1),t=v(null);k(async()=>{await a.openDB(),await a.getAllCards()});const s=o=>{d.value=!0,t.value=o};return(o,c)=>(i(),r("div",null,[d.value?(i(),C(I,{key:0,id:t.value,onClose:c[0]||(c[0]=l=>d.value=!1)},null,8,["id"])):g("",!0),e("h2",null,_(o.$t("message.cardsList.header")),1),e("div",N,[(i(!0),r(D,null,E(Object.entries(f(a).cards),([l,p])=>(i(),C(F,{card:p,key:l,onDeleted:f(a).getAllCards,onEdit:s},null,8,["card","onDeleted"]))),128))])]))}}),O=m(A,[["__scopeId","data-v-a508dbe1"]]);export{O as default};
